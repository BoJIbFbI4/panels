<div class="mainView" class="projects"  ng-controller="ProjectCtrl">

    <div class="mdl-grid">
        <div
                class="mdl-cell mdl-cell--4-col mdl-cell mdl-cell--4-col-phone"
                ng-repeat="project in projects"
        >
            <!--<div class="projects-card-square mdl-card mdl-shadow&#45;&#45;2dp">-->
            <div class="projects-card-square mdl-card mdl-shadow--2dp">
                <div class="mdl-card__title mdl-card--expand">
                    <h2 class="mdl-card__title-text">{{project.name.toUpperCase()}}</h2>
                </div>
                <!--<div class="mdl-card__supporting-text">-->
                <table class="projects-table-info mdl-data-table mdl-card__supporting-text">
                    <thead>
                    <tr>
                        <th>כמויות</th>
                        <th>פרמטרים</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr>
                        <td>{{
                                project.questionary.statistics.usersIntroduced == null ? "אין זימונים שנשלחו" :
                                project.questionary.statistics.usersIntroduced
                            }}
                        </td>
                        <td>מספר זימונים שנשלחו</td>
                    </tr>
                    <tr>
                        <td>{{
                                project.questionary.statistics.usersRespondented == null ? "אין סקרים שנענו" :
                                project.questionary.statistics.usersRespondented
                            }}
                        </td>
                        <td>מספר סקרים שנענו</td>
                    </tr>
                    </tbody>
                </table>
                <!--</div>-->
                <div class="mdl-card__actions mdl-card--border">
                    <a
                            ng-click="goToSurvey(project.id, project.name)"
                            ng-style="{
                                zIndex: project.questionary.statistics.usersIntroduced == null ? -100 : 1,
                                color: project.questionary.statistics.usersIntroduced == null  ? 'gray' : ''
                                }"
                            class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
                        <b>{{translation.ShowSurveys}}</b>
                    </a>
                </div>
                <div
                        style="border: 1px solid red"
                        class="mdl-card__actions mdl-card--border">
                    <div class="mdl-grid mdl-grid--no-spacing">

                        <div class="mdl-cell--6-col">
                            <!--__________________________________-->
                            <span ng-model="fileStateInfo" class="mdl-button mdl-button--disabled">
                                {{myFileChecked}}
                                {{fileState[$index]}}
                                {{translation.choose}}
                            </span>
                        </div>
                        <div class="mdl-cell--2-col">
                            <!--<span>{{hideLoader[$index]}}</span>-->
                            <svg
                                    id="{{'svgSpinner'+$index}}"
                                    ng-show='hideLoader[$index]'
                                    style="margin-right: 10px;"
                                    class="spinner"
                                    width="25px"
                                    height="25px"
                                    viewBox="0 0 66 66"
                                    xmlns="http://www.w3.org/2000/svg">
                                <circle
                                        class="path"
                                        fill="none"
                                        stroke-width="6"
                                        stroke-linecap="round"
                                        cx="33"
                                        cy="33"
                                        r="30"
                                ></circle>
                            </svg>
                        </div>
                        <div class="mdl-cell--2-col">
                            <div class="mdl-button mdl-button--primary mdl-button--icon mdl-button--file">
                                <i class="material-icons">attach_file</i>
                                <input
                                        ng-model="myFileCheckedModel"
                                        ng-bind="myFileCheckedBind"

                                        type="file"
                                        id="uploadBtn"
                                        file-model="myFile">
                            </div>
                        </div>
                        <div class="mdl-cell--2-col">


                            <button
                                    ng-click="uploadFile(project.id,myFile,$index)"
                                    class="mdl-button mdl-js-button mdl-button--primary mdl-stat-btn">
                                <i class="material-icons">send</i>
                            </button>
                        </div>
                        <!-- attach excel file loader animation -->
                        <!-- END attach excel file loader animation -->
                    </div>
                </div>


            </div>

        </div>
    </div>

</div>

<div class="loader" ng-show="showLoader">
    <div class="square square--main">
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
        <div class="square square--mini"></div>
    </div>
</div>




<script>
    document.getElementById("uploadBtn").onchange = function () {
        document.getElementById("uploadFile").value = this.files[0].name;
    };

</script>
